"use strict";var burger=function(){document.querySelector(".burger").addEventListener("click",(function(){document.querySelector(".burger").classList.toggle("burger_active"),document.querySelector(".menu-mobile").classList.toggle("menu-mobile_active")})),document.querySelector(".menu-mobile").addEventListener("click",(function(e){e.target.classList.contains("menu-mobile__link")&&(document.querySelector(".burger").classList.remove("burger_active"),document.querySelector(".menu-mobile").classList.remove("menu-mobile_active"))}))};burger();var addOrDelete=function(){var e=document.querySelectorAll(".card-product__like"),t=document.querySelector(".like-modal_add"),r=document.querySelector(".like-modal_delete");e.forEach((function(e){e.classList.contains("like_liked")?e.addEventListener("click",(function(){r.classList.toggle("like-modal_active"),setTimeout((function(){r.classList.remove("like-modal_active")}),1e3),e.classList.toggle("like_liked")})):e.addEventListener("click",(function(){t.classList.toggle("like-modal_active"),setTimeout((function(){t.classList.remove("like-modal_active")}),1e3),e.classList.toggle("like_liked")}))}))};addOrDelete();var scrollUpF=function(){var e=document.querySelector(".header").offsetHeight,t=document.querySelector(".scroll-up");window.addEventListener("scroll",(function(){(window.pageYOffset||document.documentElement.scrollTop)>e?t.classList.add("scroll-up_active"):t.classList.remove("scroll-up_active")})),t.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))};function mySortUp(e){for(var t=document.querySelector(".content__list"),r=0;r<t.children.length;r++)for(var o=r;o<t.children.length;o++){if(+t.children[r].getAttribute(e)<+t.children[o].getAttribute(e))insertAfter(t.replaceChild(t.children[o],t.children[r]),t.children[r])}}function mySortDown(e){for(var t=document.querySelector(".content__list"),r=0;r<t.children.length;r++)for(var o=r;o<t.children.length;o++){if(+t.children[r].getAttribute(e)>+t.children[o].getAttribute(e))insertAfter(t.replaceChild(t.children[o],t.children[r]),t.children[r])}}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}function openSortList(e,t,r,o){var n=document.querySelector(e),c=document.querySelector(t),i=document.querySelectorAll(r),l=function(){c.classList.toggle(o)};n.addEventListener("click",(function(e){e.stopPropagation(),l()})),i.forEach((function(e){e.addEventListener("click",(function(e){e.stopPropagation(),l()}))})),document.addEventListener("click",(function(e){var t=e.target,r=t==c||c.contains(t),o=t==n,s=t==i,a=c.classList.contains("sort__list_active");r||o||s||!a||l()}))}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}scrollUpF(),document.querySelector(".sort__btn-price_down").onclick=function(){return mySortUp("data-price")},document.querySelector(".sort__btn-price_up").onclick=function(){return mySortDown("data-price")},document.querySelector(".sort__btn-years_down").onclick=function(){return mySortUp("data-years")},document.querySelector(".sort__btn-years_up").onclick=function(){return mySortDown("data-years")},openSortList(".open-price",".sort__list-price",".sort__btn-price","sort__list_active"),openSortList(".open-years",".sort__list-years",".sort__btn-years","sort__list_active"),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),new JustValidate(".form",{rules:{email:{required:!0,email:!0}},messages:{email:{required:"* Обязательное поле",email:"* Введите корректный email"}}});